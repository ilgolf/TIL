# 포인터

포인터란 프로그래밍에서 메모리 주소를 저장하는 변수이다. 주로 C, C++ 같은 저수준 언어에서 사용된다. 포인트는 특정 메모리 위치를 가리키고, 그 위치에 저장된 간접적으로 접근하고 조작할 수 있게 한다.

포인터의 주요기능은 다음과 같다. 

1. 메모리 주소 저장: 포인터는 변수가 저장된 메모리 주소를 저장한다.
2. 간접 접근: 포인터를 통해 가리키는 메모리 위치에 있는 데이터를 간접적으로 접근할 수 있다.
3. 동적 메모리 할당: 포인터를 사용하여 프로그램 실행 중에 메모리를 동적으로 할당하고 해제할 수 있다.

포인터는 다음과 같이 사용한다.

```c
int a = 10;
int *p
p = &a
```

여기서 `a`는 정수 변수이고,  `p`는 `a`의 메모리 주소를 저장하는 포인터다 `&a`는 변수 `a`의 주소를 반환한다. 

포인터는 잘못 사용하면 메모리 누수(Memory leak), 잘못된 메모리 접근 등 여러 문제를 일으킬 수 있으므로 주의해야한다. 

## memory leak을 유발하는 코드 예시

```c
#include <stdio.h>
#include <stdlib.h>

void memoryLeak() {
    int *ptr = (int *)malloc(sizeof(int) * 10); // 10개의 정수형 메모리 할당

    // 할당된 메모리를 사용하지 않고, 해제하지도 않음
}

int main() {
    for (int i = 0; i < 1000; i++) {
        memoryLeak();
    }

    printf("Memory leak example\n");
    return 0;
}

```

이럴 땐 `free`로 `malloc`으로 할당된 메모리를 해제하여 memory leak을 방지해야한다.

```c
#include <stdio.h>
#include <stdlib.h>

void memoryLeak() {
    int *ptr = (int *)malloc(sizeof(int) * 10); // 10개의 정수형 메모리 할당

    // 할당된 메모리 사용 예제
    for (int i = 0; i < 10; i++) {
        ptr[i] = i;
    }

    // 할당된 메모리 해제
    free(ptr);
}

int main() {
    for (int i = 0; i < 1000; i++) {
        memoryLeak();
    }

    printf("Memory properly managed\n");
    return 0;
}
```

## Java 에서는? 

자바는 직접적으로 메모리를 참조하게 하는 포인터라는 개념이 없다. 대신, 자바는 객체의 참조를 사용한다. 참조는 간접적으로 포인터와 비슷한 역할을 하지만, 직접 메모리 주소를 다루진 않는다. 
그리고 자바에선 GC로 메모리를 자동으로 해제해주기 때문에 수동으로 해제해줄 필요가 없다. 

이유는 간단하다. 메모리 참조와 해제의 한 사이클을 매번 관리하다보면 개발자는 기술의 맥락을 비즈니스 맥락에 포함시켜야하는데 이 때문에 기술에 대한 맥락 때문에 비즈니스 맥락에 집중하지 못할 수 있다. 그렇기 때문에 
저맥락 언어인 C랑 다르게 직접적으로 메모리를 관리하지 않더라도 비즈니스 맥락대로 개발할 수 있게 고맥락 언어로 구성하기 위해 위와 같이 설계했다. 

## GC는 무조건 좋은건가?

원자력 발전소나 우주 왕복선 코딩할 때에는 GC가 동작하는 순간 stop the world가 발생하기 때문에 왕복선 발전소 동작이 멈춰 큰 문제를 야기할 수 있다. 그렇기 때문에 이러한 세밀한 조작으로 운영해야만 하는 기관은 Java같은 고맥락 언어는 
오히려 큰 독이될 수 있기 때문에 GC가 마냥 좋다고 할 순 없다.